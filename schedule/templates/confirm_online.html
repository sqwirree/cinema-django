{% extends 'base.html' %}
{% block title %}–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ–Ω–ª–∞–π–Ω –ø–æ–∫—É–ø–∫–∏{% endblock %}
{% block content %}
<style>
/* –§–æ–Ω –∏ –±–∞–∑–æ–≤–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
body {
  background: radial-gradient(circle at center, #000, #0b0b0b);
  background-image: url('https://www.transparenttextures.com/patterns/dark-mosaic.png');
  background-color: #0b0b0b;
  color: #fff;
  font-family: 'Poppins', sans-serif;
  min-height: 100vh;
  padding: 40px 15px;
  margin: 0;
}

/* üí∞ –ì–∞–º–∞–Ω–µ—Ü—å —É –ø—Ä–∞–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ */
.wallet-info {
  position: fixed;
  top: 20px;
  right: 25px;
  background: rgba(25, 25, 25, 0.92);
  border: 1px solid rgba(255, 215, 0, 0.25);
  border-radius: 12px;
  padding: 12px 20px;
  z-index: 1000;
  box-shadow: 0 0 15px rgba(229, 9, 20, 0.4);
  color: #fff;
  font-size: 0.95rem;
  backdrop-filter: blur(6px);
  transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.4s ease;
  opacity: 0;
  animation: fadeIn 0.8s ease forwards;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}
.wallet-info:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
}
.wallet-info p {
  margin: 0 0 6px;
  color: #FFD700;
  font-weight: 600;
  text-shadow: 0 0 5px rgba(255, 215, 0, 0.4);
}
.btn-wallet {
  display: inline-block;
  background: #e50914;
  color: #fff;
  padding: 6px 12px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: bold;
  font-size: 0.9rem;
  transition: background-color 0.3s ease, transform 0.2s ease;
  box-shadow: 0 0 10px rgba(229, 9, 20, 0.3);
}
.btn-wallet:hover {
  background: #ff1a24;
  transform: scale(1.05);
}

/* üßæ –û—Å–Ω–æ–≤–Ω–∏–π –±–ª–æ–∫ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è */
.confirm-container {
  max-width: 600px;
  margin: 120px auto;
  background: rgba(20,20,20,0.93);
  padding: 40px;
  border-radius: 18px;
  box-shadow: 0 0 25px rgba(229,9,20,0.35);
  text-align: center;
  backdrop-filter: blur(6px);
  animation: fadeIn 0.8s ease;
}
.confirm-container h1 {
  color: #FFD700;
  margin-bottom: 25px;
  text-shadow: 0 0 12px rgba(255,215,0,0.4);
}
.confirm-container p {
  font-size: 1.05rem;
  margin: 8px 0;
}
.confirm-container strong { color: #FFD700; }

.confirm-btn {
  margin-top: 25px;
  padding: 12px 28px;
  border: none;
  border-radius: 10px;
  background: linear-gradient(90deg,#FFD700,#e50914);
  color: #000;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.3s ease;
}
.confirm-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 18px rgba(255,215,0,0.6);
}
.back-link {
  display: block;
  margin-top: 25px;
  color: #FFD700;
  text-decoration: none;
  font-weight: bold;
  transition: color 0.3s ease;
}
.back-link:hover { color: #fff; }

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   üì± –ê–î–ê–ü–¢–ò–í
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */

/* –¢–µ–ª–µ—Ñ–æ–Ω—ã –¥–æ 600px */
@media (max-width: 600px) {
  body {
    padding: 20px 10px;
  }

  .wallet-info {
    top: 70px;           /* –Ω–∏–∂–µ, —á—Ç–æ–±—ã –Ω–µ —Å–ø–æ—Ä–∏—Ç—å —Å –±—É—Ä–≥–µ—Ä–æ–º */
    right: 10px;
    padding: 8px 12px;
    font-size: 0.85rem;
  }

  .confirm-container {
    margin: 100px auto 40px auto;
    padding: 24px 16px;
    max-width: 100%;
  }

  .confirm-container h1 {
    font-size: 1.4rem;
  }

  .confirm-container p {
    font-size: 0.95rem;
  }

  .confirm-btn {
    width: 100%;
    max-width: 260px;
  }
}

/* –£–∑–∫–∏–µ –∏ –≤—ã—Å–æ–∫–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã (375‚Äì420 —à–∏—Ä–∏–Ω–∞, 650‚Äì920 –≤—ã—Å–æ—Ç–∞) */
@media (min-width: 360px) and (max-width: 430px) and (min-height: 650px) and (max-height: 920px) {
  .wallet-info {
    top: 76px;
    right: 10px;
  }

  .confirm-container {
    margin: 110px auto 40px auto;
  }
}

/* –ü–ª–∞–Ω—à–µ—Ç—ã */
@media (min-width: 601px) and (max-width: 991px) {
  body {
    padding: 30px 16px;
  }

  .confirm-container {
    margin: 130px auto 50px auto;
    padding: 32px 24px;
    max-width: 80%;
  }
}

/* –î–µ—Å–∫—Ç–æ–ø—ã */
@media (min-width: 992px) {
  body {
    padding: 40px 20px;
  }

  .confirm-container {
    margin: 120px auto;
    max-width: 600px;
  }
}
</style>

{% if viewer.wallet %}
<div class="wallet-info">
  <p>üí∞ –ë–∞–ª–∞–Ω—Å: <strong>{{ viewer.wallet.balance }}‚Ç¥</strong></p>
  <a href="{% url 'wallet' %}" class="btn-wallet">–ü–µ—Ä–µ–π—Ç–∏ –≤ –≥–∞–º–∞–Ω–µ—Ü—å</a>
</div>
{% endif %}

<div class="confirm-container">
  <h1>–ö—É–ø—ñ–≤–ª—è –æ–Ω–ª–∞–π–Ω-–¥–æ—Å—Ç—É–ø—É</h1>
  <p>üé¨ –§—ñ–ª—å–º: <strong>{{ movie.title }}</strong></p>
  <p>üí∞ –¶—ñ–Ω–∞ –¥–æ—Å—Ç—É–ø—É: <strong>{{ price }}‚Ç¥</strong></p>

  <form method="post">
    {% csrf_token %}
    <button type="submit" class="confirm-btn">‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –ø–æ–∫—É–ø–∫—É</button>
  </form>

  <a href="{% url 'film_description' movie.id %}" class="back-link">‚Üê –ù–∞–∑–∞–¥</a>
</div>
{% endblock %}
